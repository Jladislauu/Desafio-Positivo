// server/prisma/schema.prisma
generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
}

model Rubric {
  id        Int       @id @default(autoincrement())
  name      String
  type      String    // "fixed" ou "variable"
  createdAt DateTime  @default(now())
  criteria  Criterion[]
}

model Criterion {
  id        Int     @id @default(autoincrement())
  name      String
  order     Int
  rubricId  Int
  rubric    Rubric  @relation(fields: [rubricId], references: [id], onDelete: Cascade)
  levels    Level[]
}

model Level {
  id           Int        @id @default(autoincrement())
  label        String?    // opcional (s√≥ usado no fixed)
  points       Float
  description  String
  criterionId  Int
  criterion    Criterion  @relation(fields: [criterionId], references: [id], onDelete: Cascade)
}